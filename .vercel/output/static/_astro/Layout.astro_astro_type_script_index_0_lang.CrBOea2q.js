const c={"pt-BR":{"nav.home":"Início","nav.blog":"Blog","nav.contact":"Contato","nav.resources":"Recursos","title.cv":"Currículo","meta.base":"Base","meta.baseCity":"João Pessoa, Brasil","home.recent":"Postagens recentes","home.viewAll":"Ver tudo","footer.made":"feito com ❤️ por Davi","title.home":"Início","title.blog":"Blog","title.contact":"Contato","title.resources":"Recursos","cv.education":"Educação","cv.work":"Experiência","cv.projects":"Projetos","cv.skills":"Habilidades","cv.download":"Baixar em PDF","cv.share":"Compartilhar este CV","cv.copied":"CV copiado!","cv.gpa":"GPA","blog.header.kicker":"Blog","blog.header.title":"Artigos e Postagens","blog.header.lead":"Nada daqui tem DOI nem qualis, mas é digitado com o coração e (quase) sem IA.","blog.postedOn":"Publicado em","contact.title":"Fale comigo","contact.subtitle":"Tem uma ideia, projeto ou dúvida? Envie uma mensagem.","contact.nameLabel":"Nome","contact.emailLabel":"Email","contact.subjectLabel":"Assunto","contact.messageLabel":"Mensagem","contact.submit":"Enviar","contact.namePh":"Seu nome","contact.emailPh":"voce@exemplo.com","contact.subjectPh":"Sobre o que é?","contact.messagePh":"Escreva sua mensagem...","contact.status.sending":"Enviando...","contact.status.success":"Obrigado! Sua mensagem foi enviada com sucesso.","contact.status.error":"Não foi possível enviar. Tente novamente mais tarde.","contact.status.network":"Erro de rede. Verifique sua conexão e tente novamente."},"en-US":{"nav.home":"Home","nav.blog":"Blog","nav.contact":"Contact","nav.resources":"Resources","title.cv":"CV","meta.base":"Location","meta.baseCity":"João Pessoa, Brazil","home.recent":"Recent posts","home.viewAll":"View all","footer.made":"made with ❤️ by Davi","title.home":"Home","title.blog":"Blog","title.contact":"Contact","title.resources":"Resources","cv.education":"Education","cv.work":"Work Experience","cv.projects":"Major Projects","cv.skills":"Skills","cv.download":"Download as PDF","cv.share":"Share this CV","cv.copied":"CV copied!","cv.gpa":"GPA","blog.header.kicker":"Blog","blog.header.title":"Articles and Posts","blog.header.lead":"None of this has a DOI or qualis, but it is typed with heart and (almost) no AI.","blog.postedOn":"Published on","contact.title":"Contact me","contact.subtitle":"Have an idea, project, or question? Send a message.","contact.nameLabel":"Name","contact.emailLabel":"Email","contact.subjectLabel":"Subject","contact.messageLabel":"Message","contact.submit":"Send","contact.namePh":"Your name","contact.emailPh":"you@example.com","contact.subjectPh":"What is it about?","contact.messagePh":"Write your message...","contact.status.sending":"Sending...","contact.status.success":"Thank you! Your message has been sent.","contact.status.error":"Could not send. Please try again later.","contact.status.network":"Network error. Check your connection and try again."}};let s="en-US";const r=a=>{document.querySelectorAll(".date[data-date]").forEach(e=>{const t=e.getAttribute("data-date");if(!t)return;const o=new Date(t);try{e.textContent=o.toLocaleDateString(a)}catch{e.textContent=o.toLocaleDateString("en-US")}})},d=a=>{const e=c[a]||c["en-US"],t=location.pathname;let o="";if(t==="/"||t==="")o=e["title.home"]||"Home";else if(t==="/blog"||t==="/blog/")o=e["title.blog"]||"Blog";else if(t==="/resources"||t==="/resources/")o=e["title.resources"]||"Resources";else if(t.startsWith("/cv"))o=e["title.cv"]||"CV";else if(t.startsWith("/blog/")){const n=document.querySelector("article.post-article h1");o=(n&&n.textContent?n.textContent.trim():"")||e["title.blog"]||"Blog"}else t.startsWith("/contact")?o=e["title.contact"]||"Contact":o=document.title.replace(/^.*\|\s*/,"")||"Page";document.title=`davi.cc | ${o}`},l=a=>{const e=c[a]||c["en-US"];s=a,document.documentElement.setAttribute("lang",a.startsWith("pt")?"pt-BR":"en"),document.querySelectorAll("[data-i18n-key]").forEach(t=>{const o=t.getAttribute("data-i18n-key");o&&e[o]&&(t.textContent=e[o])}),document.querySelectorAll("[data-i18n-placeholder]").forEach(t=>{const o=t.getAttribute("data-i18n-placeholder");o&&e[o]&&"placeholder"in t&&(t.placeholder=e[o])}),r(a),d(a),localStorage.setItem("lang",a),window.__i18n={t:t=>c[s]&&c[s][t]||t,getLang:()=>s};try{window.dispatchEvent(new CustomEvent("app:language-changed",{detail:a}))}catch{}},m=async()=>{const a=localStorage.getItem("lang");if(a&&c[a]){l(a);return}let e=null;try{const t=new AbortController,o=setTimeout(()=>t.abort(),1200),n=await fetch("https://ipapi.co/json/",{signal:t.signal});if(clearTimeout(o),n.ok){const i=await n.json();e=i&&i.country_code==="BR"?"pt-BR":"en-US"}}catch{}e||(e=(navigator.language||"en-US").startsWith("pt")?"pt-BR":"en-US"),l(e)},u=()=>{document.querySelectorAll(".lang-btn[data-set-lang]").forEach(a=>{a.addEventListener("click",()=>{const e=a.getAttribute("data-set-lang")||"en-US";l(e)})})};m();u();document.addEventListener("astro:page-load",()=>{u(),r(s),d(s)});
